project: ceps
configVersion: 1
---
image: frontend_dev
from: python:3.12-slim
docker:
  CMD: ["sleep", "infinity"]
  EXPOSE: ["8080"]
  WORKDIR: /workspace
  USER: app
git:
  - add: /frontend/requirements.txt
    to: /requirements.txt
    stageDependencies:
      install:
       - requirements.txt
shell:
  beforeInstall:
  - apt update
  - apt install -y git
  - useradd -m -s /bin/bash app
  install:
  - pip install -r requirements.txt --root-user-action ignore